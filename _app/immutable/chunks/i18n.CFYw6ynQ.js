import{V as H,W as V,S as g,X as J,Y as ee,v as te,x as C,D as ne,s as R,U as L,Z as M,m as N,g as y,L as re,u as Z,_ as se,$ as ie,a0 as ae,a1 as oe,a2 as ce,a3 as ue,a4 as fe,Q as k,a5 as le,a6 as de}from"./runtime.lKaai2ow.js";import"./disclose-version.BB5VadN9.js";import{b as T,g as he}from"./entry.HaZm-dCJ.js";import{p as me}from"./stores.CPAdEhDP.js";import{r as _e}from"./runtime.DhlVoqcY.js";function $(e,t=!0,n=null,s){if(typeof e=="object"&&e!=null&&!H(e)&&!(V in e)){if(g in e){const a=e[g];if(a.t===e||a.p===e)return a.p}const r=se(e);if(r===J||r===ee){const a=new Proxy(e,ge);return te(e,g,{value:{s:new Map,v:C(0),a:ne(e),i:t,p:a,t:e},writable:!0,enumerable:!1}),a}}return e}function Y(e,t=1){R(e,e.v+t)}const ge={defineProperty(e,t,n){if(n.value){const s=e[g],r=s.s.get(t);r!==void 0&&R(r,$(n.value,s.i,s))}return Reflect.defineProperty(e,t,n)},deleteProperty(e,t){const n=e[g],s=n.s.get(t),r=n.a,a=delete e[t];if(r&&a){const o=n.s.get("length"),c=e.length-1;o!==void 0&&o.v!==c&&R(o,c)}return s!==void 0&&R(s,L),a&&Y(n.v),a},get(e,t,n){var a;if(t===g)return Reflect.get(e,g);const s=e[g];let r=s.s.get(t);if(r===void 0&&(!(t in e)||(a=M(e,t))!=null&&a.writable)&&(r=(s.i?C:N)($(e[t],s.i,s)),s.s.set(t,r)),r!==void 0){const o=y(r);return o===L?void 0:o}return Reflect.get(e,t,n)},getOwnPropertyDescriptor(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&"value"in n){const r=e[g].s.get(t);r&&(n.value=y(r))}return n},has(e,t){var a;if(t===g)return!0;const n=e[g],s=Reflect.has(e,t);let r=n.s.get(t);return(r!==void 0||re!==null&&(!s||(a=M(e,t))!=null&&a.writable))&&(r===void 0&&(r=(n.i?C:N)(s?$(e[t],n.i,n):L),n.s.set(t,r)),y(r)===L)?!1:s},set(e,t,n,s){const r=e[g];let a=r.s.get(t);a===void 0&&(Z(()=>s[t]),a=r.s.get(t)),a!==void 0&&R(a,$(n,r.i,r));const o=r.a,c=!(t in e);if(o&&t==="length")for(let i=n;i<e.length;i+=1){const u=r.s.get(i+"");u!==void 0&&R(u,L)}if(e[t]=n,c){if(o){const i=r.s.get("length"),u=e.length;i!==void 0&&i.v!==u&&R(i,u)}Y(r.v)}return!0},ownKeys(e){const t=e[g];return y(t.v),Reflect.ownKeys(e)}};function Ke(e,t,n,s){var B;var r=(n&ue)!==0,a=(n&fe)!==0,o=(n&de)!==0,c=e[t],i=(B=M(e,t))==null?void 0:B.set,u=s,d=!0,f=()=>(o&&d&&(d=!1,u=Z(s)),u);c===void 0&&s!==void 0&&(i&&a&&ie(),c=f(),i&&i(c));var l;if(a)l=()=>{var h=e[t];return h===void 0?f():(d=!0,h)};else{var v=(r?k:le)(()=>e[t]);v.f|=ae,l=()=>{var h=y(v);return h!==void 0&&(u=void 0),h===void 0?u:h}}if(!(n&oe))return l;if(i){var S=e.$$legacy;return function(h,x){return arguments.length>0?((!a||!x||S)&&i(x?l():h),h):l()}}var p=!1,_=N(c),m=k(()=>{var h=l(),x=y(_);return p?(p=!1,x):_.v=h});return r||(m.equals=ce),function(h,x){var D=y(m);if(arguments.length>0){const I=x?y(m):h;return m.equals(I)||(p=!0,R(_,I),y(m)),h}return D}}function pe(e,t){if(e==="")return"";const n=new URL(e,t).pathname;return n.endsWith("/")?n.slice(0,-1):n}function b(e,t){const n=we(e),s=ve(n,t),[r,a]=xe(s);return[r,a]}const U=(e,t,n)=>[t,e,n??""].filter(s=>s!=="/").join("")||"/";function ve(e,t){const n=e.replace(t,"");return n.startsWith("/")?n:`/${n}`}function xe(e){const n=["/.html__data.json","/__data.json"].find(s=>e.endsWith(s));return n?[e.slice(0,-n.length)||"/",n]:[e,void 0]}function we(e){try{return decodeURI(e)}catch{return e}}const ye=e=>({url:t})=>{try{const[n,s]=b(t.pathname,T),r=e.getLanguageFromLocalisedPath(n);if(!r)return t.pathname;const a=e.getCanonicalPath(n,r);return U(a,T,s)}catch{return t.pathname}};function Se(e){return`/${e.split("/").filter(Boolean).join("/")}`}function Pe(e){const t=e.map(n=>typeof n=="string"?s=>s===n:s=>n.test(s));return n=>t.some(s=>s(Se(n)))}const E="rtl",j="ltr";function Re(e){try{const t=new Intl.Locale(e);return"textInfo"in t?t.textInfo.direction===E?E:j:t.getTextInfo().direction===E?E:j}catch{return j}}function Ie(e){const t=e.map(n=>[n,Re(n)]);return Object.fromEntries(t)}const Le=0,q=1,O=2,Te=4,w=0,P=1,A=2;function $e(e){const t=Ee(be);return e.sort((n,s)=>{var r,a,o,c,i,u;const d=K(n).map(t),f=K(s).map(t);for(let l=0;l<Math.max(d.length,f.length);l+=1){const v=d[l],S=f[l];if(!v)return-1;if(!S)return 1;for(let p=0;p<Math.max(v.length,S.length);p+=1){const _=v[p],m=S[p];if((_==null?void 0:_[w])||(m==null?void 0:m[w])){if(!_)return-1;if(!m)return 1;const h=((r=v[p+1])==null?void 0:r[P])||((o=(a=d[l+1])==null?void 0:a[0])==null?void 0:o[P]),x=((c=S[p+1])==null?void 0:c[P])||((u=(i=f[l+1])==null?void 0:i[0])==null?void 0:u[P]),D=h&&x,I=h&&!x,z=!h&&x;if((_[w]&&m[w])===O){if(D)continue;if(I)return-1;if(z)return 1}if(_[w]===O)return I?-1:1;if(m[w]===O)return z?1:-1;if(_[A]!==m[A])return(-1)**+_[A];if(_[w]!==m[w])return(-1)**+(_[w]>m[w])}else if((_==null?void 0:_[P])!==(m==null?void 0:m[P]))return Oe(_[P],m[P])}}return n<s?1:-1})}function Ee(e){const t=new Map;return n=>(t.has(n)||t.set(n,e(n)),t.get(n))}function be(e){const t=[];let n=0;for(;n<=e.length;){const s=e.indexOf("[",n),r=s===-1;if(t.push([Le,e.slice(n,r?void 0:s),!1]),r)break;const a=e[s+1]==="["?q:e[s+1]==="."?O:Te,o=a===q?"]]":"]",c=e.indexOf(o,s);if(c===-1)throw new Error(`Invalid route definition ${e}`);const i=e.slice(s,n=c+o.length);t.push([a,i,i.includes("=")])}return t}const K=e=>e.replace(/\[\[[^\]]+\]\](?!$)/g,"").split("/").filter(Boolean);function Oe(e,t){if(e===t)return 0;let n=0;for(;e[n]===t[n];)n++;return e[n]?t[n]?e[n]<t[n]?-1:1:-1:1}const Be=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function De(e){const t=[];return{pattern:e==="/"?/^\/$/:new RegExp(`^${G(e).map(s=>{const r=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(s);if(r)return t.push({name:r[1],matcher:r[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const a=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(s);if(a)return t.push({name:a[1],matcher:a[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!s)return;const o=s.split(/\[(.+?)\](?!\])/);return"/"+o.map((i,u)=>{if(u%2){if(i.startsWith("x+"))return W(String.fromCharCode(parseInt(i.slice(2),16)));if(i.startsWith("u+"))return W(String.fromCharCode(...i.slice(2).split("-").map(p=>parseInt(p,16))));const d=Be.exec(i);if(!d)throw new Error(`Invalid param: ${i}`);const[,f,l,v,S]=d;return t.push({name:v,matcher:S,optional:!!f,rest:!!l,chained:l?u===1&&o[0]==="":!1}),l?"(.*?)":f?"([^/]*)?":"([^/]+?)"}return W(i)}).join("")}).join("")}/?$`),params:t}}function je(e,t,n){const s={},r=e.slice(1),a=r.filter(c=>c!==void 0);let o=0;for(const[c,i]of t.entries()){let u=r[c-o];if(i.chained&&i.rest&&o&&(u=r.slice(c-o,c+1).filter(f=>f).join("/"),o=0),u===void 0){i.rest&&(s[i.name]="");continue}if(i.matcher&&!n[i.matcher])return;if((n[i.matcher]??(()=>!0))(u)){s[i.name]=u;const f=t[c+1],l=r[c+1];f&&!f.rest&&f.optional&&l&&i.chained&&(o=0),!f&&!l&&Object.keys(s).length===a.length&&(o=0);continue}if(i.optional&&i.chained){o++;continue}return}if(!o)return s}function W(e){return e.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}const Ae=/\[(\[)?(\.\.\.)?(\w+?)(?:=(\w+))?\]\]?/g;function X(e,t){return"/"+G(e).map(n=>n.replace(Ae,(s,r,a,o)=>{const c=t[o];if(!c){if(r||a&&c!==void 0)return"";throw new Error(`Missing parameter '${o}' in route ${e}`)}if(c[0]=="/"||c.endsWith("/"))throw new Error(`Parameter '${o}' in route ${e} cannot start or end with a slash`);return c})).filter(Boolean).join("/")}function Q(e,t,n){const s=$e(t);for(const r of s){const a=De(r),o=a.pattern.exec(We(e));if(!o)continue;const c=je(o,a.params,n);if(c)return{params:c,id:r}}}const We=e=>e.endsWith("/")?e.slice(0,-1):e,G=e=>e.slice(1).split("/");function Fe(e,t,n,s,r){function a(i){const d=i.split("/")[1];if(e.includes(d)&&(r==="always"||d!==t))return d;if(r==="never")return t}function o(i,u){const d=i.endsWith("/")&&i!=="/";i=d?i.slice(0,-1):i;let f=Me(i,u,n,s);return d&&(f+="/"),(r==="always"||u!==t)&&(f=`/${u}${f}`),f}function c(i,u){const d=i.endsWith("/")&&i!=="/";(r==="always"||u!==t)&&(i=i.replace(`/${u}`,"")||"/");const f=d;i=f?i.slice(0,-1):i;let l=Ce(i,u,n,s);return f&&(l+="/"),l}return{getLanguageFromLocalisedPath:a,getLocalisedPath:o,getCanonicalPath:c}}function Ce(e,t,n,s){for(const[r,a]of Object.entries(n)){if(!(t in a))continue;const o=a[t];if(!o)continue;const c=Q(e,[o],s);if(c)return X(r,c.params)}return e}function Me(e,t,n,s){const r=Q(e,Object.keys(n),s);if(!r)return e;const a=n[r.id];if(!a)return e;const o=a[t];return o?X(o,r.params):e}function Ne(e,t){const n={},s=[],r=e.sourceLanguageTag,a={defaultLanguageTag:r,runtime:e,translations:n,matchers:{},exclude:Pe(s),prefixDefaultLanguage:"never",textDirection:Ie(e.availableLanguageTags),seo:{noAlternateLinks:!1}},o=Fe(e.availableLanguageTags,r,a.translations,a.matchers,a.prefixDefaultLanguage);return Object.freeze(n),Object.freeze(a),{config:a,strategy:o,reroute:()=>ye(o),handle:()=>{throw new Error("")},getLanguageFromUrl(c){const i=F(T),[u]=b(c.pathname,i);return a.exclude(u)?a.defaultLanguageTag:o.getLanguageFromLocalisedPath(u)||a.defaultLanguageTag},resolveRoute(c,i=void 0){if(a.exclude(c))return c;const u=F(T),[d,f]=b(c,u);if(i=i??e.languageTag(),!c.startsWith(u))return c;const l=o.getLocalisedPath(d,i);return U(l,u,f)},route(c){const i=F(T),[u,d]=b(c,i),l=o.getLanguageFromLocalisedPath(u)||a.defaultLanguageTag,v=o.getCanonicalPath(u,l);return U(v,i,d)}}}function F(e){return e===""?"":e.startsWith("/")?e:pe(e,new URL(he(me).url))}const Ze=Ne(_e);export{Ke as a,b,Ze as i,pe as n,$ as p,U as s};
